{% extends 'base.html' %}
{% block content %}

<div class="row mx-2">
    <div class="offset-lg-3 col-lg-6">
        <h1 class="mb-5 rye-regular">PUBTEST</h1>
    </div>
</div>

{% for article in articles %}
<div class="row mx-2">
    <div class="offset-lg-3 col-lg-6">
        <div class="card mb-4" style="width: 32rem;">
            <div class="card-header px-0 d-flex">
                <strong class="ms-5 me-2">#{{ article.id }}</strong> <em class="flex-grow-1">{{ article.date }}</em> <a
                    class="me-5 text-muted" href="#">Results</a>
            </div>
            <div class="card-body px-5 pt-4 pb-4">
                <h3 class="mb-4">{{ article.question }}</h3>
                {% if user.is_authenticated %}
                    <a href="#" class="btn btn-light me-3 rye-regular response-no" data-article-id="{{ article.id }}">No</a>
                    <a href="#" class="btn btn-light ms-2 rye-regular response-yes" data-article-id="{{ article.id }}">Yes</a>
                {% else %}
                    <button class="btn btn-light me-3 rye-regular response-no" disabled>No</button>
                    <button class="btn btn-light ms-2 rye-regular response-yes" disabled>Yes</button>
                    <p class="mt-3 vote-message" id="login-message" style="display: block;">Please log in to vote.</p>
                {% endif %}
                <p class="mt-4">{{ article.summary }}<br>
                    <a href="{{ article.web_url }}" target="_blank" class="card-link text-muted">Read the article</a>
                </p>
                <p class="mt-2 response-message" style="display: none;">You have voted.</p>
            </div>
        </div>
    </div>
</div>
{% endfor %}

{% endblock %}
